<div class="clearfix">
    <a ui-sref="app.volume.list" class="btn btn-link pull-right"><span class="glyphicon glyphicon-chevron-left"> </span>Back to volumes</a>
</div>

<h2 class="pull-right">
    <small><span class="glyphicon glyphicon-hdd"></span>&nbsp; {{volumeId}}</small>
</h2>
<h2><span class="glyphicon glyphicon-list"></span>&nbsp; Backup History </h2>

<div class="row">
    <table class="table table-condensed bg-white" st-table="displayedBackups" st-safe-src="backups">
        <thead>
        <tr>
            <th class="text-center">
                <a class="btn btn-link" ng-click="makeSelection()" title="Click to {{ textClass[isAllSelected]}} all">
                    {{textClass[isAllSelected]}} all
                </a>
            </th>

            <th>&nbsp;</th>
            <th st-sort="timeCreated" st-sort-default="reverse">Created</th>
            <th st-sort="fileName">File Name</th>
            <th st-sort="size">Size</th>
        </tr>
        </thead>

        <tbody>
        <tr st-select-row="backup" st-select-mode="multiple" ng-repeat="backup in displayedBackups"
            ng-click="checkSelection()">
            <td class="text-center">
                <span class="glyphicon glyphicon-{{ iconClass[backup.isSelected] }} text-primary"></span>
                <input type="checkbox" ng-checked="backup.isSelected" class="hidden"/> &nbsp;
            </td>
            <td class="text-center commands">
                <a class="btn btn-link" title="Restore" ng-click="restore(backup); $event.stopPropagation();"><span
                        class="glyphicon glyphicon-cloud-upload text-success"></span></a>
                <span class="glyphicon glyphicon-refresh spin" ng-show="isRunning(backup)"></span>
            </td>
            <td>{{backup.timeCreated | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>{{backup.fileName}}</td>
            <td>{{backup.size | sizeConvertion}}</td>
        </tr>
        </tbody>
        <tfoot>
        <tr ng-show="isLoading">
            <td colspan="5" class="text-center spinner-container">
                <i class="glyphicon glyphicon-refresh text-muted spin"></i>
            </td>
        </tr>
        <tr>
            <td colspan="5" class="text-center">
                <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="displayedPages"></div>
            </td>
        </tr>
        </tfoot>
    </table>
    <div class="col-xs-12">
        <button type="button" class="btn btn-danger pull-right" ng-disabled="!selectedAmount" ng-click="deleteSelection()">
            <span class="glyphicon glyphicon-remove" title="Delete selected backups"></span> Delete selected
        </button>
    </div>
</div>